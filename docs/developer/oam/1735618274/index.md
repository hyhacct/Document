---
title: "运维"
titleTemplate: NAT类型介绍
---

# 概述

| NAT类型 |                      名称                      |                                                                                                              特点 |                                                                                        缺点 |                                                                                            使用场景 |
| ------- | :--------------------------------------------: | ----------------------------------------------------------------------------------------------------------------: | ------------------------------------------------------------------------------------------: | --------------------------------------------------------------------------------------------------: |
| `NAT0`  |                无NAT（No NAT）                 |                                                                      没有任何地址转换，内部网络对外部网络完全可见 |                                                                  没有安全性，无法节省IP地址 |                                                                极少使用，除非在完全信任的网络环境中 |
| `NAT1`  |           全锥形NAT（Full Cone NAT）           |                            一个内部地址可以映射到一个固定的外部地址，所有发往该外部地址的流量都会转发给内部地址。 |                                            安全性较低，因为任何外部流量都可以到达内部地址。 |                                        适用于需要从互联网接收连接的场景，如游戏主机或某些VoIP服务。 |
| `NAT2`  | 地址受限锥形NAT（Address-Restricted Cone NAT） |                                                                      只允许来自特定外部IP地址的流量到达内部地址。 |                                                             不如全锥形NAT灵活，外部IP受限。 |                                                        适用于需要一定安全性，且外部连接受限的场景。 |
| `NAT3`  |  端口受限锥形NAT（Port-Restricted Cone NAT）   |                                          不仅限制外部IP，还限制外部端口，只有特定IP和端口的流量可以到达内部地址。 |                                                            灵活性更差，对外部通信限制更多。 |                                适用于需要较高安全性的场景，但可能不支持某些需要广泛端口通信的应用。 |
| `NAT4`  |            对称NAT（Symmetric NAT）            |              每次从内部到外部的不同端口的连接都会创建一个新的映射，并且只有该特定映射的响应流量可以到达内部地址。 |                                           穿透能力最差，不支持端到端通信，对P2P应用不友好。 |                                            适用于需要最高安全性的场景，但可能限制了某些应用的功能。 |
| `NAT5`  |      严格限制NAT（Strict NAT）/ 阻塞型NAT      | 这种类型的NAT不仅限制了外部IP地址，还限制了外部端口号。只有来自特定外部IP地址和端口号的流量才能被转发到内部地址。 | 由于其严格的限制，许多P2P应用和VoIP服务可能无法正常工作，因为它不允许任何未预期的入站连接。 | 适用于那些需要极高安全性的场景，但这种类型的NAT在实际应用中较少见，因为它极大地限制了网络的灵活性。 |


## 服务端地址

三个测试地址：

stun.ekiga.net

stun.schlund.de

stun.voxgratia.org

NAT类型检测或者测试可以使用这个网址 -> [点我跳转](https://webrtc.github.io/samples/src/content/peerconnection/trickle-ice/)
